---
title: "Create an AI Agent with CometChat + Mastra"
description: "Quickstart: connect a Mastra agent, optionally add actions, and embed a customized chat UI via the Visual Chat Builder."
sidebarTitle: "Create Agent (Mastra)"
---

import { Steps, AccordionGroup, Accordion, CardGroup, Card, Callout } from 'mintlify';

<Callout type="info">
This quickstart helps you connect a <b>Mastra</b> agent to <b>CometChat</b> and embed it with the <b>Visual Chat Builder</b>.
</Callout>

## Quickstart

<Steps>
   <Step title="Create a CometChat app">
      Sign in at <b>app.cometchat.com</b> → <b>Integrate → Create App</b>. Use this app to attach your AI Agent later.
   </Step>

   <Step title="Connect your Mastra agent">
      In <b>AI Agent → Get Started → Connect Agent</b>, choose <b>Mastra</b> and fill in:
      <ul>
         <li><b>Name</b> (e.g., My Agent)</li>
         <li><b>Greeting</b> and <b>Intro Message</b></li>
         <li><b>Deployment URL</b> (your Mastra runtime)</li>
         <li><b>Mastra Agent ID</b></li>
      </ul>
      Save, then toggle the agent <b>On</b>.
   </Step>

   <Step title="(Optional) Add Frontend Actions">
      Let the agent trigger UI-side tools: <b>AI Agent → Actions → Add</b>. Define a short <b>Display Name</b> and the <b>Execution Text</b> the agent will call.
   </Step>

   <Step title="Customize & get embed code">
      From <b>AI Agent → Get Started</b>, open <b>Customize Appearance</b> to style your chat. Click <b>Get Embedded Code</b> to generate the snippet.
   </Step>

   <Step title="Embed in your app">
      Paste the snippet where you want chat to mount.

```html
<!-- CometChat Agent Embed (from Visual Chat Builder) -->
<div id="cometchat-agent"></div>
<script>
   /* Paste the generated snippet here (includes App ID, Region, Agent ID) */
</script>
```
   </Step>
</Steps>

<Callout type="note">
Bringing your own Mastra deployment? Keep the <b>Deployment URL</b> and <b>Mastra Agent ID</b> handy. For local dev, use a tunnel like <b>ngrok</b>.
</Callout>

## Choose your path

<CardGroup cols={2}>
   <Card title="Use Visual Chat Builder" href="/chat" icon="🧩">
      Configure visually and embed with a snippet. Fastest way to go live.
   </Card>
   <Card title="Build a custom UI (advanced)" href="/ui-kit/react/v5/integration" icon="⚙️">
      Use our UI Kits/SDKs to craft a fully custom experience.
   </Card>
</CardGroup>

## Embed examples

<AccordionGroup>
   <Accordion title="HTML">

```html
<div id="cometchat-agent"></div>
<script>
   // Paste your Visual Chat Builder snippet here
   // Example: CometChatAgent.init({ appId, region, agentId, ... })
   // CometChatAgent.mount('#cometchat-agent');
  
</script>
```

   </Accordion>
   <Accordion title="React / Next.js">

```tsx
import { useEffect } from 'react';

export default function Agent() {
   useEffect(() => {
      // Paste your Visual Chat Builder snippet here
      // Ensure it only runs on the client
   }, []);

   return <div id="cometchat-agent" />;
}
```

   </Accordion>
   <Accordion title="Vue">

```vue
<template>
   <div id="cometchat-agent"></div>
</template>

<script setup>
import { onMounted } from 'vue';
onMounted(() => {
   // Paste your Visual Chat Builder snippet here
});
</script>
```

   </Accordion>
</AccordionGroup>

## Troubleshooting

- 401/403: Check App ID/Region and that the agent is enabled.
- No response: Verify <b>Deployment URL</b> and <b>Mastra Agent ID</b>. Confirm CORS.
- Actions not firing: Ensure the <b>Execution Text</b> matches the agent’s instruction.

<Callout type="success">
Your Mastra agent is live in CometChat. Tweak layout, colors, and prompts anytime in the Visual Chat Builder.
</Callout>