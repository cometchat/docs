---
title: "Add CometChat Chat Builder Widget to Shopify"
sidebarTitle: "Integration"
description: "Learn how to embed the CometChat Chat Builder widget into your Shopify store using Liquid templates, theme settings, or Online Store 2.0 app blocks."
---

import AdvancedJSAPIs from "/snippets/widget/advanced-js-apis.mdx";

You can integrate the **CometChat Chat Builder widget** directly into your Shopify store to enable real-time chat. Once installed, it will:

- Load the Chat Builder bundle on page load  
- Initialize CometChat with your App ID, Region & Auth Key  
- Automatically log in each visitor (using their Shopify `customer.id` or “guest”)  
- Launch a docked chat UI on every page  

---

## What You’ll Build

A persistent, docked chat widget in your Shopify theme—fully configurable via Theme Settings or a snippet/app block.

---

## Quick Steps to Embed CometChat Widget

<Steps>

  <Step title="Register on CometChat & Gather Your Keys">
Before you start, sign up at the [CometChat Dashboard](https://app.cometchat.com/) and create an app. Copy:
- **App ID**  
- **Region**  
- **Auth Key**
</Step>

  <Step title="Add the Chat Builder Bundle">
1. In Shopify Admin, navigate to **Online Store → Themes → Edit code**  
2. Open **layout/theme.liquid**  
3. Inside the `<head>` tag, add:
   ```liquid
   <script defer src="https://cdn.jsdelivr.net/npm/@cometchat/chat-embed@latest/dist/main.js"></script>
   ```
  </Step>

  <Step title="Mount & Initialize the Widget">
Decide where you want the chat widget to appear—commonly in **sections/footer.liquid** or a new **snippets/cometchat-widget.liquid**. Paste:

```liquid lines highlight={5-7, 10}
<div id="cometChatMount"></div>

<script>
  const COMETCHAT_CREDENTIALS = {
    appID:     "<YOUR_APP_ID>",
    appRegion: "<YOUR_APP_REGION>",
    authKey:   "<YOUR_AUTH_KEY>",
  };

  const COMETCHAT_USER_UID = "UID"; // Replace with actual user UID

  const COMETCHAT_LAUNCH_OPTIONS = {
    targetElementID: "cometChatMount",  // Element ID to mount the widget
    isDocked: true,                     // true = floating bubble, false = embedded
    width: "700px",                     // Widget width
    height: "500px",                    // Widget height

    // Optional advanced settings:
    // variantID: "YOUR_VARIANT_ID",    // Variant configuration ID
    // chatType: "user",                // "user" or "group"
    // defaultChatID: "uid_or_guid",    // UID or GUID to open chat by default
    // dockedAlignment: "right",        // For docked mode: "left" or "right"
  };


  window.addEventListener("DOMContentLoaded", () => {
    CometChatApp.init(COMETCHAT_CREDENTIALS)
      .then(() => {
        console.log("[CometChat] Initialized successfully");
        return CometChatApp.login({ uid: COMETCHAT_USER_UID });
      })
      .then(user => {
        console.log("[CometChat] Logged in as:", user);
        return CometChatApp.launch(COMETCHAT_LAUNCH_OPTIONS);
      })
      .then(() => {
        console.log("[CometChat] Chat launched!");
      })
      .catch(error => {
        console.error("[CometChat] Error:", error);
      });
  });
</script>
```
  </Step>

  <Step title="(Optional) Expose Credentials in Theme Settings">
To let non-developers manage credentials from the Shopify Theme Editor, add this section in **config/settings_schema.json** (just before the final `]`):
```jsonc
,
{
  "name": "CometChat Settings",
  "settings": [
    {
      "type": "text",
      "id": "cometchat_app_id",
      "label": "CometChat App ID",
      "default": "YOUR_APP_ID"
    },
    {
      "type": "text",
      "id": "cometchat_app_region",
      "label": "CometChat App Region",
      "default": "YOUR_REGION"
    },
    {
      "type": "text",
      "id": "cometchat_auth_key",
      "label": "CometChat Auth Key",
      "default": "YOUR_AUTH_KEY"
    }
  ]
}
```
  </Step>

  <Step title="(Advanced) Use an Online Store 2.0 App Block">
If your theme supports Shopify 2.0 app blocks, you can make a reusable section:
1. **Online Store → Themes → Edit code**  
2. Under **Sections**, click **Add a new section** → `cometchat-widget.liquid`  
3. Paste the snippet from the previous step into that file.  
4. Save, then add it in **Customize theme** under **App embeds** or as a section on any template:
   ```liquid
   {% section 'cometchat-widget' %}
   ```
  </Step>

</Steps>

---

<AdvancedJSAPIs />

---

## Troubleshooting

- **Widget not appearing?**  
  - Verify your `<script>` URL is correct
  - Confirm your App ID, Region & Auth Key  
- **Login errors?**  
  - Ensure the `uid` exists under **Users** in your CometChat Dashboard  
- **Script blocked?**  
  - Use the snippet method rather than inline page HTML  

---

## Need Help?

Reach out to [CometChat Support](https://www.cometchat.com/contact) or visit our [docs site](https://www.cometchat.com/docs) for more examples.
