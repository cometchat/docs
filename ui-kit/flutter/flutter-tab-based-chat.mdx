---
title: "Building A Messaging UI With Tabs, Sidebar, And Message View"
sidebarTitle: "Tab Based Chat Experience"
description: "Create a comprehensive tab-based messaging UI with Chats, Calls, Users, and Groups sections using CometChat Flutter UI Kit"
---

This guide walks you through creating a **tab-based messaging UI** using **Flutter** and **CometChat UIKit**. The UI will include different sections for **Chats, Calls, Users, and Groups**, allowing seamless navigation.

***

## User Interface Preview

<Frame caption="Tab-based messaging interface with bottom navigation">
  <img src="/images/7e8b813d-chat_experience_full_tab_based-28115d603d38f5bbfbfe170739aa478c.png" alt="Tab-based chat interface showing multiple features with bottom navigation" />
</Frame>

This layout consists of:

<CardGroup cols={3}>
<Card title="Sidebar (Conversation List)" icon="list">
  Displays recent conversations with active users and groups.
</Card>

<Card title="Message View" icon="message-circle">
  Shows the selected chat with real-time messages.
</Card>

<Card title="Message Input Box" icon="edit">
  Allows users to send messages seamlessly.
</Card>
</CardGroup>

***

## Implementation Steps

<Steps>
<Step title="Render the Tab Component">
  The `CometChatConversations` widget displays all conversations related to the currently logged-in user. Follow the steps below to render this component:

  ```dart main.dart
    @override
    Widget build(BuildContext context) {
      return Scaffold(
        appBar: CometChatMessageHeader(
          user: widget.user,
          group: widget.group,
        ),
        body: SafeArea(
          child: Column(
            children: [
              Expanded(
                child: CometChatMessageList(
                  user: widget.user,
                  group: widget.group,
                ),
              ),
              CometChatMessageComposer(
                user: widget.user,
                group: widget.group,
              ),
            ],
          ),
        ),
      );
    }
  ```

  <Tip>
    This creates the basic message screen structure with header, list, and composer components.
  </Tip>
</Step>

<Step title="Create the Complete Tab-Based Application">
  Here's the full example implementation in `main.dart`:

  <CodeGroup>
  ```dart main.dart
  import 'package:flutter/material.dart';
  import 'package:cometchat_chat_uikit/cometchat_chat_uikit.dart';
  import 'package:cometchat_calls_uikit/cometchat_calls_uikit.dart'; //Optional: Include if you're using Audio/Video Calling
  import 'messages_screen.dart';
  import 'cometchat_config.dart';

  void main() => runApp(const MyApp());

  class MyApp extends StatelessWidget {
    const MyApp({super.key});

    @override
    Widget build(BuildContext context) {
      return MaterialApp(
        title: 'CometChat UI Kit',
        theme: ThemeData(
          colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),
          useMaterial3: true,
        ),
        home: const Home(),
      );
    }
  }

  class Home extends StatelessWidget {
    const Home({super.key});

    Future<void> _initializeAndLogin() async {
      final settings = UIKitSettingsBuilder()
        ..subscriptionType = CometChatSubscriptionType.allUsers
        ..autoEstablishSocketConnection = true
        ..appId = CometChatConfig.appId
        ..region = CometChatConfig.region
        ..authKey = CometChatConfig.authKey
        ..extensions = CometChatUIKitChatExtensions.getDefaultExtensions() //Replace this with empty array, if you want to disable all extensions
        ..callingExtension = CometChatCallingExtension(); //Optional: Include if you're using Audio/Video Calling

      await CometChatUIKit.init(uiKitSettings: settings.build());
      await CometChatUIKit.login(
        'cometchat-uid-1',
        onSuccess: (_) => debugPrint('âœ… Login Successful'),
        onError: (err) => throw Exception('Login Failed: $err'),
      );
    }

    @override
    Widget build(BuildContext context) {
      return FutureBuilder<void>(
        future: _initializeAndLogin(),
        builder: (ctx, snap) {
          if (snap.connectionState != ConnectionState.done) {
            return const Scaffold(
              body: SafeArea(
                child: Center(child: CircularProgressIndicator()),
              ),
            );
          }
          if (snap.hasError) {
            return Scaffold(
              body: SafeArea(
                child: Center(
                  child: Text(
                    'Error starting app:\n${snap.error}',
                    textAlign: TextAlign.center,
                  ),
                ),
              ),
            );
          }
          return const TabsScreen();
        },
      );
    }
  }

  class TabsScreen extends StatefulWidget {
    const TabsScreen({super.key});

    @override
    State<TabsScreen> createState() => _TabsScreenState();
  }

  class _TabsScreenState extends State<TabsScreen> {
    int _selectedIndex = 0;
    final PageController _pageController = PageController();

    void _onItemTapped(int index) {
      setState(() {
        _selectedIndex = index;
      });
      _pageController.jumpToPage(index);
    }

    @override
    Widget build(BuildContext context) {
      return Scaffold(
        body: PageView(
          controller: _pageController,
          onPageChanged: (index) {
            setState(() {
              _selectedIndex = index;
            });
          },
          children: [
            CometChatConversations(
              showBackButton: false,
              onItemTap: (conversation) {
                Navigator.push(
                  context,
                  MaterialPageRoute(
                    builder: (context) => MessagesScreen(
                      user: conversation.conversationWith is User
                          ? conversation.conversationWith as User
                          : null,
                      group: conversation.conversationWith is Group
                          ? conversation.conversationWith as Group
                          : null,
                    ),
                  ),
                );
              },
            ),
            CometChatCallLogs(),
            CometChatUsers(),
            CometChatGroups(),
          ],
        ),
        bottomNavigationBar: BottomNavigationBar(
          currentIndex: _selectedIndex,
          onTap: _onItemTapped,
          items: const [
            BottomNavigationBarItem(
              icon: Icon(Icons.chat),
              label: "Chat",
            ),
            BottomNavigationBarItem(
              icon: Icon(Icons.call),
              label: "Calls",
            ),
            BottomNavigationBarItem(
              icon: Icon(Icons.person),
              label: "Users",
            ),
            BottomNavigationBarItem(
              icon: Icon(Icons.group),
              label: "Groups",
            ),
          ],
        ),
      );
    }
  }
  ```
  </CodeGroup>

  <Info>
    This example includes complete initialization, login, and tab-based navigation setup with proper state management.
  </Info>
</Step>

<Step title="Render the Messages Component">
  To create a complete messaging view, include the following components in `messages_screen.dart`:

  <CardGroup cols={3}>
  <Card title="Message Header" icon="header" href="/ui-kit/flutter/05-Components/06-message-header.md">
    Displays conversation information and actions.
  </Card>

  <Card title="Message List" icon="list" href="/ui-kit/flutter/05-Components/07-message-list.md">
    Shows all messages in the conversation.
  </Card>

  <Card title="Message Composer" icon="edit" href="/ui-kit/flutter/05-Components/08-message-composer.md">
    Allows users to compose and send messages.
  </Card>
  </CardGroup>

  <Frame caption="Complete message screen with header, list, and composer">
    <img src="/images/c9f210d3-messaegs-0ec2890a7a60ae5ea8e3991d83508474.png" alt="Message screen showing conversation interface with header, message list, and composer" />
  </Frame>

  ```dart messages_screen.dart
  import 'package:flutter/material.dart';
  import 'package:cometchat_chat_uikit/cometchat_chat_uikit.dart';

  class MessagesScreen extends StatefulWidget {
    final User? user;
    final Group? group;

    const MessagesScreen({Key? key, this.user, this.group}) : super(key: key);

    @override
    State<MessagesScreen> createState() => _MessagesScreenState();
  }

  class _MessagesScreenState extends State<MessagesScreen> {
    @override
    Widget build(BuildContext context) {
      return Scaffold(
        appBar: CometChatMessageHeader(
          user: widget.user,
          group: widget.group,
        ),
        body: SafeArea(
          child: Column(
            children: [
              Expanded(
                child: CometChatMessageList(
                  user: widget.user,
                  group: widget.group,
                ),
              ),
              CometChatMessageComposer(
                user: widget.user,
                group: widget.group,
              ),
            ],
          ),
        ),
      );
    }
  }
  ```

  <Check>
    This creates a complete messaging interface with header, message list, and composer components for tab-based navigation.
  </Check>
</Step>

<Step title="Run the App">
  Use the following command to run the app on a connected device or emulator:

  ```bash
  flutter run
  ```

  This will launch the app, and you should see the tab-based chat experience with the sidebar and message view. You can navigate between different tabs (Chats, Calls, Users, and Groups) and interact with the messaging features seamlessly.

  <Tip>
    Make sure you have a device or emulator connected before running the command.
  </Tip>
</Step>
</Steps>

***

## Next Steps

### Enhance the User Experience

<Card title="Advanced Customizations" icon="settings" href="/ui-kit/flutter/theme-introduction">
  Personalize the chat UI to align with your brand and design requirements.
</Card>

<AccordionGroup>
<Accordion title="Tab Features">
  - **Chats tab** - Browse and manage conversations
  - **Calls tab** - View call history and initiate calls
  - **Users tab** - Discover and connect with users
  - **Groups tab** - Join and manage group conversations
</Accordion>

<Accordion title="Navigation Benefits">
  - **Seamless switching** between different features
  - **State persistence** across tab changes
  - **Consistent UI** with unified design language
  - **Mobile-optimized** bottom navigation
</Accordion>

<Accordion title="Customization Options">
  - **Tab customization** - Add, remove, or modify tabs
  - **Icon and label changes** - Customize tab appearance
  - **Theme integration** - Match your app's design
  - **Feature toggles** - Enable/disable specific tabs
</Accordion>
</AccordionGroup>
