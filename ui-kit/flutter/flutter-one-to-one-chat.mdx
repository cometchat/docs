---
title: "Building A One To One/Group Chat Experience"
sidebarTitle: "One To One/Group Chat"
description: "Implement a streamlined direct messaging interface for support chats, dating apps, and private messaging platforms using CometChat Flutter UI Kit"
---

The **One-to-One Chat** feature provides a streamlined **direct messaging interface**, making it ideal for **support chats, dating apps, and private messaging platforms**. This setup eliminates distractions by focusing solely on a **dedicated chat window**.

<Frame caption="Direct messaging interface for one-to-one conversations">
  <img src="/images/c401197a-chat_experience_one_on_one-5b74b8c178c83ecb0a8879e898fcb854.png" alt="One-to-one chat interface showing direct messaging experience" />
</Frame>

***

## Implementation Steps

<Steps>
<Step title="Render the Message View">
  The `CometChatConversations` widget displays all conversations related to the currently logged-in user. Follow the steps below to render this component:

  ```dart main.dart
    @override
    Widget build(BuildContext context) {
      return Scaffold(
        body: SafeArea(
          child: FutureBuilder<User>(
            future: fetchCometChatUser("cometchat-uid-2"),
            builder: (context, snapshot) {
              if (snapshot.connectionState == ConnectionState.waiting) {
                return const Center(child: CircularProgressIndicator());
              } else if (snapshot.hasError) {
                return Center(child: Text("Error: ${snapshot.error}"));
              } else if (snapshot.hasData) {
                return MessagesScreen(user: snapshot.data!);
              } else {
                return const Center(child: Text("User not found"));
              }
            },
          ),
        ),
      );
    }
  ```

  <Tip>
    The `FutureBuilder` handles the asynchronous user fetching and provides appropriate loading and error states.
  </Tip>
</Step>

<Step title="Create the Complete Application">
  Here's the full example implementation in `main.dart`:

  <CodeGroup>
  ```dart main.dart
  import 'package:flutter/material.dart';
  import 'package:cometchat_chat_uikit/cometchat_chat_uikit.dart';
  import 'package:cometchat_calls_uikit/cometchat_calls_uikit.dart'; //Optional: Include if you're using Audio/Video Calling
  import 'messages_screen.dart';
  import 'cometchat_config.dart';

  import 'dart:async';

  void main() => runApp(const MyApp());

  class MyApp extends StatelessWidget {
    const MyApp({super.key});

    @override
    Widget build(BuildContext context) {
      return MaterialApp(
        title: 'CometChat UI Kit',
        theme: ThemeData(
          colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),
          useMaterial3: true,
        ),
        home: const Home(),
      );
    }
  }

  class Home extends StatelessWidget {
    const Home({super.key});

    Future<void> _initializeAndLogin() async {
      final settings = UIKitSettingsBuilder()
        ..subscriptionType = CometChatSubscriptionType.allUsers
        ..autoEstablishSocketConnection = true
        ..appId = CometChatConfig.appId
        ..region = CometChatConfig.region
        ..authKey = CometChatConfig.authKey
        ..extensions = CometChatUIKitChatExtensions.getDefaultExtensions() //Replace this with empty array, if you want to disable all extensions
        ..callingExtension = CometChatCallingExtension(); //Optional: Include if you're using Audio/Video Calling

      await CometChatUIKit.init(uiKitSettings: settings.build());
      await CometChatUIKit.login(
        'cometchat-uid-1',
        onSuccess: (_) => debugPrint('âœ… Login Successful'),
        onError: (err) => throw Exception('Login Failed: $err'),
      );
    }

    @override
    Widget build(BuildContext context) {
      return FutureBuilder<void>(
        future: _initializeAndLogin(),
        builder: (ctx, snap) {
          if (snap.connectionState != ConnectionState.done) {
            return const Scaffold(
              body: SafeArea(
                child: Center(child: CircularProgressIndicator()),
              ),
            );
          }
          if (snap.hasError) {
            return Scaffold(
              body: SafeArea(
                child: Center(
                  child: Text(
                    'Error starting app:\n${snap.error}',
                    textAlign: TextAlign.center,
                  ),
                ),
              ),
            );
          }
          return const MessagesPage();
        },
      );
    }
  }

  class MessagesPage extends StatelessWidget {
    const MessagesPage({super.key});

    Future<User> fetchCometChatUser(String uid) async {
      final completer = Completer<User>();
      CometChat.getUser(
        uid,
        onSuccess: (user) => completer.complete(user),
        onError: (error) => completer.completeError(error),
      );
      return completer.future;
    }

    @override
    Widget build(BuildContext context) {
      return Scaffold(
        body: SafeArea(
          child: FutureBuilder<User>(
            future: fetchCometChatUser("cometchat-uid-2"),
            builder: (context, snapshot) {
              if (snapshot.connectionState == ConnectionState.waiting) {
                return const Center(child: CircularProgressIndicator());
              } else if (snapshot.hasError) {
                return Center(child: Text("Error: ${snapshot.error}"));
              } else if (snapshot.hasData) {
                return MessagesScreen(user: snapshot.data!);
              } else {
                return const Center(child: Text("User not found"));
              }
            },
          ),
        ),
      );
    }
  }
  ```
  </CodeGroup>

  <Info>
    This example includes complete initialization, login, user fetching, and direct messaging setup with proper error handling.
  </Info>
</Step>

<Step title="Render the Messages Component">
  To create a complete messaging view, include the following components in `messages_screen.dart`:

  <CardGroup cols={3}>
  <Card title="Message Header" icon="header" href="/ui-kit/flutter/05-Components/06-message-header.md">
    Displays conversation information and actions.
  </Card>

  <Card title="Message List" icon="list" href="/ui-kit/flutter/05-Components/07-message-list.md">
    Shows all messages in the conversation.
  </Card>

  <Card title="Message Composer" icon="edit" href="/ui-kit/flutter/05-Components/08-message-composer.md">
    Allows users to compose and send messages.
  </Card>
  </CardGroup>

  <Frame caption="Complete message screen with header, list, and composer">
    <img src="/images/c9f210d3-messaegs-0ec2890a7a60ae5ea8e3991d83508474.png" alt="Message screen showing conversation interface with header, message list, and composer" />
  </Frame>

  ```dart messages_screen.dart
  import 'package:flutter/material.dart';
  import 'package:cometchat_chat_uikit/cometchat_chat_uikit.dart';

  class MessagesScreen extends StatefulWidget {
    final User? user;
    final Group? group;

    const MessagesScreen({Key? key, this.user, this.group}) : super(key: key);

    @override
    State<MessagesScreen> createState() => _MessagesScreenState();
  }

  class _MessagesScreenState extends State<MessagesScreen> {
    @override
    Widget build(BuildContext context) {
      return Scaffold(
        appBar: CometChatMessageHeader(
          user: widget.user,
          group: widget.group,
        ),
        body: SafeArea(
          child: Column(
            children: [
              Expanded(
                child: CometChatMessageList(
                  user: widget.user,
                  group: widget.group,
                ),
              ),
              CometChatMessageComposer(
                user: widget.user,
                group: widget.group,
              ),
            ],
          ),
        ),
      );
    }
  }
  ```

  <Check>
    This creates a complete messaging interface with header, message list, and composer components for direct messaging.
  </Check>
</Step>

<Step title="Run the App">
  Use the following command to run the app on a connected device or emulator:

  ```bash
  flutter run
  ```

  This will launch the app, and you should see the one-to-one chat interface with the message header, list, and composer ready for use.

  <Tip>
    Make sure you have a device or emulator connected before running the command.
  </Tip>
</Step>
</Steps>

***

## Next Steps

### Enhance the User Experience

<Card title="Advanced Customizations" icon="settings" href="/ui-kit/flutter/theme-introduction">
  Personalize the chat UI to align with your brand and design requirements.
</Card>

<AccordionGroup>
<Accordion title="Use Cases">
  - **Support chats** - Direct communication between users and support agents
  - **Dating apps** - Private messaging between matched users
  - **Private messaging platforms** - Secure one-to-one conversations
  - **Onboarding flows** - Guided messaging experiences
</Accordion>

<Accordion title="Key Features">
  - **Direct messaging** without conversation list distractions
  - **Real-time message updates** with automatic synchronization
  - **User presence indicators** showing online/offline status
  - **Message delivery and read receipts** for better UX
  - **File and media sharing** capabilities
</Accordion>

<Accordion title="Customization Options">
  - **Theme customization** for colors, fonts, and styling
  - **Component modifications** for individual UI elements
  - **Layout adjustments** for different screen sizes
  - **Feature toggles** for enabling/disabling functionality
</Accordion>
</AccordionGroup>
