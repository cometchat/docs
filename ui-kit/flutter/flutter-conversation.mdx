---
title: "Conversation List + Message View"
description: "Implement a seamless two-panel chat interface with conversation list and message view using CometChat Flutter UI Kit"
---

The **Conversation List + Message View** layout provides a seamless **two-panel chat interface**, commonly seen in modern messaging apps like **WhatsApp Web**, **Slack**, and **Microsoft Teams**.

This layout allows users to switch between conversations while keeping the active chat open, delivering a **smooth, real-time messaging experience**.

<Frame caption="Two-panel chat interface with conversation list and message view">
  <img src="/images/e395dc74-chat_experience_sidebar_message-79d0b141acb1aea61bae33f121988572.png" alt="Conversation list interface showing chat navigation with message view" />
</Frame>

***

## Implementation Steps

<Steps>
<Step title="Render the Conversation Component">
  The `CometChatConversations` widget displays all conversations related to the currently logged-in user. Follow the steps below to render this component:

  ```dart main.dart
    @override
    Widget build(BuildContext context) {
      return Scaffold(
        body: SafeArea(
          child: CometChatConversations(
            showBackButton: true,
            onItemTap: (conversation) {
              
              final target = conversation.conversationWith;

              Navigator.push(
                context,
                MaterialPageRoute(
                  builder: (_) => MessagesScreen(
                    user: target is User ? target : null,
                    group: target is Group ? target : null,
                  ),
                ),
              );
            },
          ),
        ),
      );
    }
  ```

  <Tip>
    The `onItemTap` callback handles navigation to the message screen when a conversation is selected.
  </Tip>
</Step>

<Step title="Create the Complete Application">
  Here's the full example implementation in `main.dart`:

  <CodeGroup>
  ```dart main.dart
  import 'package:flutter/material.dart';
  import 'package:cometchat_chat_uikit/cometchat_chat_uikit.dart';
  import 'package:cometchat_calls_uikit/cometchat_calls_uikit.dart'; //Optional: Include if you're using Audio/Video Calling
  import 'messages_screen.dart';
  import 'cometchat_config.dart';

  void main() => runApp(const MyApp());

  class MyApp extends StatelessWidget {
    const MyApp({super.key});

    @override
    Widget build(BuildContext context) {
      return MaterialApp(
        title: 'CometChat UI Kit',
        theme: ThemeData(
          colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),
          useMaterial3: true,
        ),
        home: const Home(),
      );
    }
  }

  class Home extends StatelessWidget {
    const Home({super.key});

    Future<void> _initializeAndLogin() async {
      final settings = UIKitSettingsBuilder()
        ..subscriptionType = CometChatSubscriptionType.allUsers
        ..autoEstablishSocketConnection = true
        ..appId = CometChatConfig.appId
        ..region = CometChatConfig.region
        ..authKey = CometChatConfig.authKey
        ..extensions = CometChatUIKitChatExtensions.getDefaultExtensions() //Replace this with empty array, if you want to disable all extensions
        ..callingExtension = CometChatCallingExtension(); //Optional: Include if you're using Audio/Video Calling

      await CometChatUIKit.init(uiKitSettings: settings.build());
      await CometChatUIKit.login(
        'cometchat-uid-1',
        onSuccess: (_) => debugPrint('âœ… Login Successful'),
        onError: (err) => throw Exception('Login Failed: $err'),
      );
    }

    @override
    Widget build(BuildContext context) {
      return FutureBuilder<void>(
        future: _initializeAndLogin(),
        builder: (ctx, snap) {
          if (snap.connectionState != ConnectionState.done) {
            return const Scaffold(
              body: SafeArea(
                child: Center(child: CircularProgressIndicator()),
              ),
            );
          }
          if (snap.hasError) {
            return Scaffold(
              body: SafeArea(
                child: Center(
                  child: Text(
                    'Error starting app:\n${snap.error}',
                    textAlign: TextAlign.center,
                  ),
                ),
              ),
            );
          }
          return const ConversationsPage();
        },
      );
    }
  }

  class ConversationsPage extends StatelessWidget {
    const ConversationsPage({super.key});

    @override
    Widget build(BuildContext context) {
      return Scaffold(
        body: SafeArea(
          child: CometChatConversations(
            showBackButton: true,
            onItemTap: (conversation) {
              
              final target = conversation.conversationWith;

              Navigator.push(
                context,
                MaterialPageRoute(
                  builder: (_) => MessagesScreen(
                    user: target is User ? target : null,
                    group: target is Group ? target : null,
                  ),
                ),
              );
            },
          ),
        ),
      );
    }
  }
  ```
  </CodeGroup>

  <Info>
    This example includes complete initialization, login, and conversation list setup with proper error handling.
  </Info>
</Step>

<Step title="Render the Messages Component">
  To create a complete messaging view, include the following components in `messages_screen.dart`:

  <CardGroup cols={3}>
  <Card title="Message Header" icon="header" href="/ui-kit/flutter/05-Components/06-message-header.md">
    Displays conversation information and actions.
  </Card>

  <Card title="Message List" icon="list" href="/ui-kit/flutter/05-Components/07-message-list.md">
    Shows all messages in the conversation.
  </Card>

  <Card title="Message Composer" icon="edit" href="/ui-kit/flutter/05-Components/08-message-composer.md">
    Allows users to compose and send messages.
  </Card>
  </CardGroup>

  <Frame caption="Complete message screen with header, list, and composer">
    <img src="/images/c9f210d3-messaegs-0ec2890a7a60ae5ea8e3991d83508474.png" alt="Message screen showing conversation interface with header, message list, and composer" />
  </Frame>

  ```dart messages_screen.dart
  import 'package:flutter/material.dart';
  import 'package:cometchat_chat_uikit/cometchat_chat_uikit.dart';

  class MessagesScreen extends StatefulWidget {
    final User? user;
    final Group? group;

    const MessagesScreen({Key? key, this.user, this.group}) : super(key: key);

    @override
    State<MessagesScreen> createState() => _MessagesScreenState();
  }

  class _MessagesScreenState extends State<MessagesScreen> {
    @override
    Widget build(BuildContext context) {
      return Scaffold(
        appBar: CometChatMessageHeader(
          user: widget.user,
          group: widget.group,
        ),
        body: SafeArea(
          child: Column(
            children: [
              Expanded(
                child: CometChatMessageList(
                  user: widget.user,
                  group: widget.group,
                ),
              ),
              CometChatMessageComposer(
                user: widget.user,
                group: widget.group,
              ),
            ],
          ),
        ),
      );
    }
  }
  ```

  <Check>
    This creates a complete messaging interface with header, message list, and composer components.
  </Check>
</Step>

<Step title="Run the App">
  Use the following command to run the app on a connected device or emulator:

  ```bash
  flutter run
  ```

  This will launch the app and display the **Conversation List**. Tapping a conversation will navigate to the **Message View**.

  <Tip>
    Make sure you have a device or emulator connected before running the command.
  </Tip>
</Step>
</Steps>

***

## Next Steps

### Enhance the User Experience

<Card title="Advanced Customizations" icon="settings" href="/ui-kit/flutter/theme-introduction">
  Personalize the chat UI to align with your brand and design requirements.
</Card>

<AccordionGroup>
<Accordion title="Key Features">
  - **Real-time messaging** with automatic updates
  - **One-to-one and group conversations** support
  - **Message history** with scrollable interface
  - **Typing indicators** and read receipts
  - **File sharing** and media support
</Accordion>

<Accordion title="Customization Options">
  - **Theme customization** for colors and fonts
  - **Component styling** for individual widgets
  - **Layout modifications** for different screen sizes
  - **Feature toggles** for enabling/disabling functionality
</Accordion>
</AccordionGroup>
